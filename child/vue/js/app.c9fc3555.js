(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["storage_vue"]=t():e["storage_vue"]=t()})(window,(function(){return function(e){function t(t){for(var r,a,l=t[0],s=t[1],u=t[2],d=0,f=[];d<l.length;d++)a=l[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);c&&c(t);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,l=1;l<n.length;l++){var s=n[l];0!==o[s]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={app:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/child/vue/";var l=window["webpackJsonp_storage_vue"]=window["webpackJsonp_storage_vue"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var c=s;return i.push([0,"chunk-vendors"]),n()}({0:function(e,t,n){e.exports=n("56d7")},"4c19":function(e,t,n){},5227:function(e,t,n){"use strict";n("4c19")},"56d7":function(e,t,n){"use strict";n.r(t),n.d(t,"bootstrap",(function(){return Oe})),n.d(t,"mount",(function(){return je})),n.d(t,"unmount",(function(){return De}));var r=n("1da1"),o=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("96cf"),n("2b0e")),i=n("bc3a"),a=n.n(i),l=n("2106"),s=n.n(l),u=n("8c4f"),c=n("5c96"),d=n.n(c),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Storage")],1)},p=[],m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{staticClass:"container"},[n("el-header",{staticClass:"header",attrs:{height:"100px"}}),n("el-container",[n("el-aside",{staticClass:"aside",attrs:{width:"200px"}},[n("el-menu",{attrs:{"default-active":"2"},on:{select:e.handleSelect}},[n("el-menu-item",{attrs:{index:"pdf"}},[n("i",{staticClass:"el-icon-notebook-2"}),n("span",[e._v("参考书PDF")])]),n("el-menu-item",{attrs:{index:"ppt"}},[n("i",{staticClass:"el-icon-s-platform"}),n("span",[e._v("PPT课件")])]),n("el-menu-item",{attrs:{index:"homework"}},[n("i",{staticClass:"el-icon-edit"}),n("span",[e._v("课后作业")])]),n("el-menu-item",{attrs:{index:"comment"}},[n("i",{staticClass:"el-icon-s-comment"}),n("span",[e._v("作业情况")])]),n("el-menu-item",{attrs:{index:"exam"}},[n("i",{staticClass:"el-icon-document"}),n("span",[e._v("历年试卷")])]),n("el-menu-item",{attrs:{index:"mindmap"}},[n("i",{staticClass:"el-icon-s-opportunity"}),n("span",[e._v("思维导图")])]),n("el-menu-item",{attrs:{index:"other"}},[n("i",{staticClass:"el-icon-position"}),n("span",[e._v("其它")])])],1)],1),n("el-main",[n("Filesystem",{attrs:{rootDir:e.rootDir}})],1)],1)],1)},h=[],v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"contextMenu",rawName:"v-contextMenu",value:e.menuObj,expression:"menuObj"}],attrs:{id:"filesystem"}},[n("el-breadcrumb",{attrs:{separator:"/"}},[n("el-breadcrumb-item",{attrs:{to:0!==e.dirs.length?{}:void 0},nativeOn:{click:function(t){return e.handleClick(t)}}},[e._v(" "+e._s(e.rootDir)+" ")]),e._l(e.dirs,(function(t,r){return n("el-breadcrumb-item",{key:r,attrs:{to:r!==e.dirs.length-1?{}:void 0},nativeOn:{click:function(t){return e.handleDirClick(r)}}},[e._v(" "+e._s(t)+" ")])})),n("span",{staticClass:"el-breadcrumb__separator",attrs:{role:"presentation"}})],2),n("div",{staticClass:"main"},[e._l(e.files,(function(t,r){return n("div",{key:r},["folder"===t.type?n("Folder",{staticClass:"folder",attrs:{"folder-name":t.name},on:{enterFolder:e.enterFolder}}):e._e(),"file"===t.type?n("File",{staticClass:"file",attrs:{"file-name":t.name}}):e._e()],1)})),n("div",{staticClass:"uploadArea",on:{click:function(t){e.uploadFormVisiable=!0}}},[n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],2),n("el-dialog",{attrs:{title:"上传文件",width:"35%",visible:e.uploadFormVisiable},on:{"update:visible":function(t){e.uploadFormVisiable=t}}},[n("el-upload",{staticClass:"upload",attrs:{drag:"",action:"https://jsonplaceholder.typicode.com/posts/",multiple:""}},[n("i",{staticClass:"el-icon-upload"}),n("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),n("em",[e._v("点击上传")])]),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])]),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.uploadFormVisiable=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.uploadFormVisiable=!1}}},[e._v("确 定")])],1)],1)],1)},b=[],y=(n("fb6a"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"contextMenu",rawName:"v-contextMenu",value:e.menuObj,expression:"menuObj"}],attrs:{id:"file"}},[r("img",{attrs:{src:n("71db")}}),r("span",[e._v(e._s(e.fileName))])])}),_=[],g={props:{fileName:{type:String,required:!0}},data:function(){return{}},computed:{menuObj:function(){var e=this;return[{title:"打开",handler:function(){return console.log("打开")}},{title:"下载",handler:function(){return console.log("下载文件")}},{title:"另存为",handler:function(){return console.log("另存为")}},{title:"删除",handler:function(){return console.log(e.folderName)}},{title:"重命名",handler:function(){e.$prompt("请输入文件名","重命名",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(t){var n=t.value;e.$message({type:"success",message:"文件名修改成功"}),e.fileName=n})).catch((function(){}))}},{title:"属性",handler:function(){return console.log("属性")}}]}},methods:{}},x=g,F=(n("70e5"),n("2877")),w=Object(F["a"])(x,y,_,!1,null,"13eae6f0",null),O=w.exports,C=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"contextMenu",rawName:"v-contextMenu",value:e.menuObj,expression:"menuObj"}],attrs:{id:"folder"},on:{click:e.handleClick,contextmenu:e.handleContextMenu}},[r("img",{attrs:{src:n("f27d")}}),r("span",[e._v(e._s(e.folderName))])])},j=[],k={props:{folderName:{type:String,required:!0}},data:function(){return{}},computed:{menuObj:function(){var e=this;return[{title:"打开",handler:function(){return console.log("打开")}},{title:"下载",handler:function(){return console.log("下载文件")}},{title:"另存为",handler:function(){return console.log("另存为")}},{title:"删除",handler:function(){return console.log(e.folderName)}},{title:"重命名",handler:function(){e.$prompt("请输入文件名","重命名",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(t){var n=t.value;e.$message({type:"success",message:"文件名修改成功"}),e.fileName=n})).catch((function(){}))}},{title:"属性",handler:function(){return console.log("属性")}}]}},methods:{handleClick:function(e){e.stopPropagation(),this.$emit("enterFolder",this.folderName)},handleContextMenu:function(e){e.stopPropagation()}}},D=k,N=(n("b9ae"),Object(F["a"])(D,C,j,!1,null,"c76714c8",null)),E=N.exports;n("159b");function M(e){var t="";return e.forEach((function(e){t+="/"+e})),t}a.a.create({baseURL:"",timeout:1e4});function S(e){var t=this;this.$http.get("/fs",{data:{path:e}}).then((function(e){var n=e.data;return t.files=n}))}var P={props:{rootDir:{type:String,required:!0}},data:function(){return{dirs:[],files:[],uploadFormVisiable:!1}},computed:{menuObj:function(){var e=this;return[{title:"上传文件",handler:function(){e.uploadFormVisiable=!0}},{title:"新建文件夹",handler:function(){e.$prompt("请输入文件夹名","新建文件夹",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(t){var n=t.value;e.$message({type:"success",message:"新建文件夹成功"}),console.log(n)})).catch((function(){}))}},{title:"刷新",handler:function(){return console.log("刷新")}}]}},watch:{rootDir:function(){this.dirs=[],S.call(this,"/"+this.rootDir)}},mounted:function(){S.call(this,"/"+this.rootDir)},methods:{enterFolder:function(e){this.dirs.push(e);var t="/"+this.rootDir+M(this.dirs);S.call(this,t)},handleClick:function(){S.call(this,"/"+this.rootDir),this.dirs=[]},handleDirClick:function(e){this.dirs=this.dirs.slice(0,e+1);var t="/"+this.rootDir+M(this.dirs);S.call(this,t)}},components:{File:O,Folder:E}},$=P,B=(n("ac24"),Object(F["a"])($,v,b,!1,null,"9ca5620a",null)),I=B.exports,T={data:function(){return{rootDir:"pdf"}},methods:{handleSelect:function(e){this.rootDir=e}},components:{Filesystem:I}},R=T,Y=(n("5227"),Object(F["a"])(R,m,h,!1,null,"1596867b",null)),A=Y.exports,q={name:"App",components:{Storage:A}},V=q,U=Object(F["a"])(V,f,p,!1,null,null,null),J=U.exports,K=n("2f62"),L={count:0},Q={increaseCount:function(e){e.count++}},W={},H={};o["default"].use(K["a"]);var X=new K["a"].Store({state:L,mutations:Q,actions:W,getters:H}),z=X,G=(n("83f4"),n("4d63"),n("ac1f"),n("25f0"),n("96eb")),Z=n.n(G),ee=[{type:"folder",name:"FolderInMyFolder"},{type:"file",name:"FileInMyFile"}],te=[{type:"file",name:"file1InSubFolder"},{type:"file",name:"file2InSubFolder"}],ne={folderFiles:ee,subFolderFiles:te},re=[{type:"folder",name:"MyFolder"},{type:"file",name:"YouFile"}],oe=[{type:"folder",name:"Folder1"},{type:"folder",name:"Folder2"}],ie=[{type:"file",name:"YouFile"},{type:"file",name:"YouFile"}],ae=[{type:"folder",name:"MyFolder"},{type:"file",name:"YouFile"},{type:"file",name:"YouFile"}],le=[{type:"folder",name:"examFolder"},{type:"file",name:"examFile"}],se=[{type:"folder",name:"mindmapFolder"},{type:"file",name:"mindmapFile"}],ue=[{type:"folder",name:"OtherFolder"},{type:"file",name:"OtherFile"}],ce={pdfFiles:re,pptFiles:oe,homeworkFiles:ie,commentFiles:ae,examFiles:le,mindmapFiles:se,otherFiles:ue};Z.a.mock(RegExp("/fs"),"get",(function(e){var t=JSON.parse(e.body).path;switch(t){case"/pdf":return ce.pdfFiles;case"/ppt":return ce.pptFiles;case"/homework":return ce.homeworkFiles;case"/comment":return ce.commentFiles;case"/exam":return ce.examFiles;case"/mindmap":return ce.mindmapFiles;case"/other":return ce.otherFiles;case"/pdf/MyFolder":return ne.folderFiles;case"/pdf/MyFolder/FolderInMyFolder":return ne.subFolderFiles;default:return null}}));var de=n("5530"),fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{style:{top:e.top,left:e.left},attrs:{id:"context-menu"}},e._l(e.items,(function(t,r){return n("li",{key:r,on:{click:t.handler,contextmenu:function(e){e.preventDefault()}}},[e._v(" "+e._s(t.title)+" ")])})),0)},pe=[],me={props:{top:{type:String,required:!0,default:"0px"},left:{type:String,required:!0,default:"0px"},items:{type:Array,required:!0}},data:function(){return{}},mounted:function(){},methods:{}},he=me,ve=(n("dac5"),Object(F["a"])(he,fe,pe,!1,null,"72318ad1",null)),be=ve.exports,ye=null,_e=function(e,t){var n=o["default"].extend(e),r=document.createElement("div");return document.body.appendChild(r),new n({propsData:Object(de["a"])({},t)}).$mount(r),r},ge=function(e){ye&&(document.body.removeChild(document.getElementById(e)),ye=null)};document.body.addEventListener("click",(function(){ge("context-menu")})),document.body.addEventListener("contextmenu",(function(){ge("context-menu")})),o["default"].directive("contextMenu",(function(e,t){if(!e)throw"元素未绑定!";e.oncontextmenu=function(e){e.preventDefault(),e.stopPropagation(),ge("context-menu");var n={top:e.clientY+"px",left:e.clientX+"px",items:t.value};ye=_e(be,n)}}));n("f5df1"),n("0fae");o["default"].use(d.a),o["default"].use(s.a,a.a),o["default"].config.productionTip=!1;var xe=null,Fe=null;function we(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.container;xe=new u["a"]({base:window.__POWERED_BY_QIANKUN__?"/":"/child/vue/",mode:"history"}),Fe=new o["default"]({router:xe,store:z,render:function(e){return e(J)}}).$mount(t?t.querySelector("#app"):"#app")}function Oe(){return Ce.apply(this,arguments)}function Ce(){return Ce=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("[vue] vue app bootstraped");case 1:case"end":return e.stop()}}),e)}))),Ce.apply(this,arguments)}function je(e){return ke.apply(this,arguments)}function ke(){return ke=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("[vue] vue app mount"),we(t);case 2:case"end":return e.stop()}}),e)}))),ke.apply(this,arguments)}function De(){return Ne.apply(this,arguments)}function Ne(){return Ne=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("[vue] vue app unmount"),Fe.$destroy();case 2:case"end":return e.stop()}}),e)}))),Ne.apply(this,arguments)}window.__POWERED_BY_QIANKUN__||we()},"5aaa":function(e,t,n){},"70e5":function(e,t,n){"use strict";n("ba10")},"71db":function(e,t,n){e.exports=n.p+"img/file.0a688a2e.png"},"7dd7":function(e,t,n){},"83f4":function(e,t,n){window.__POWERED_BY_QIANKUN__&&(n.p=window.__INJECTED_PUBLIC_PATH_BY_QIANKUN__)},aa4f:function(e,t,n){},ac24:function(e,t,n){"use strict";n("5aaa")},b9ae:function(e,t,n){"use strict";n("aa4f")},ba10:function(e,t,n){},dac5:function(e,t,n){"use strict";n("7dd7")},f27d:function(e,t,n){e.exports=n.p+"img/folder.5457e20a.png"}})}));
//# sourceMappingURL=app.c9fc3555.js.map